{"version":3,"file":"entrypoint-Ds0YLQXJ.js","sources":["../../../Client/src/entrypoint.ts"],"sourcesContent":["import { UMB_AUTH_CONTEXT } from \"@umbraco-cms/backoffice/auth\";\r\nimport { UmbEntryPointOnInit } from \"@umbraco-cms/backoffice/extension-api\";\r\nimport { client } from \"./api/client.gen\";\r\n\r\nexport const onInit: UmbEntryPointOnInit = (_host, _extensionRegistry) => {\r\n  _host.consumeContext(UMB_AUTH_CONTEXT, async (authContext) => {\r\n    const config = authContext?.getOpenApiConfiguration();\r\n\r\n    client.setConfig({\r\n      auth: config?.token ?? undefined,\r\n      baseUrl: config?.base ?? \"\",\r\n      credentials: config?.credentials ?? \"same-origin\",\r\n    });\r\n  });\r\n}\r\n"],"names":["onInit","_host","_extensionRegistry","UMB_AUTH_CONTEXT","authContext","config","client"],"mappings":";;AAIa,MAAAA,IAA8B,CAACC,GAAOC,MAAuB;AAClE,EAAAD,EAAA,eAAeE,GAAkB,OAAOC,MAAgB;AACtD,UAAAC,IAASD,KAAA,gBAAAA,EAAa;AAE5B,IAAAE,EAAO,UAAU;AAAA,MACf,OAAMD,KAAA,gBAAAA,EAAQ,UAAS;AAAA,MACvB,UAASA,KAAA,gBAAAA,EAAQ,SAAQ;AAAA,MACzB,cAAaA,KAAA,gBAAAA,EAAQ,gBAAe;AAAA,IAAA,CACrC;AAAA,EAAA,CACF;AACH;"}